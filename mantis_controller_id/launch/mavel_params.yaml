# Common configuration for the mavel velocity controller

# Control
control_rate: 50.0
control_frame: "map"

throttle:
  min: 0.0
  mid: 0.5
  max: 0.9

# Maximum roll/pitch in radians
tilt_max: 0.39

# Emergency Landing Velocity (must be negative!)
failsafe_land_vel: -0.2

# Data Stream
stream:
  min_rate:
    reference:
      state: 0.5
      odometry: 10.0
    setpoint:
      position: 5.0
      velocity: 10.0
      acceleration: 20.0
  topic:
    reference:
      odometry: "reference/odometry"
      state: "reference/state"
    setpoint:
      position: "setpoint/position"
      velocity: "setpoint/velocity"
      acceleration: "setpoint/acceleration"
    feedback:
      position: "goal/position"
      velocity: "goal/velocity"
      acceleration: "goal/acceleration"
      attitude: "goal/attitude"

# PID Controllers
pid:
  position:
    x:
      kp: 1.4
      ki: 0.0
      kd: 0.0 #0.5
      tau: 0.05
      min: -0.5
      max: 0.5
    y:
      kp: 1.4
      ki: 0.0
      kd: 0.0 #0.5
      tau: 0.05
      min: -0.5
      max: 0.5
    z:
      kp: 1.4
      ki: 0.0
      kd: 0.0# 0.1
      tau: 0.05
      min: -0.5
      max: 0.5
  velocity:
    x:
      kp: 4.8
      ki: 0.0
      kd: 0.0 # 0.04
      tau: 0.05
      min: -3.0
      max: 3.0
    y:
      kp: 4.8
      ki: 0.0
      kd: 0.0 #0.04
      tau: 0.05
      min: -3.0
      max: 3.0
    z:
      kp: 4.8
      ki: 0.0
      kd: 0.0
      tau: 0.05
      min: -3.0
      max: 3.0

